/*C1*/SET SCHEMA PUBLIC
CONNECT USER SA
alter table intsident drop constraint FK35599A0CF91E0FCA
alter table intsident drop constraint FK35599A0C67E0A6F4
alter table isik_intsidendis drop constraint FK57679C337B56F78A
alter table isik_intsidendis drop constraint FK57679C3377DB6E4A
alter table isiku_seadus_intsidendis drop constraint FK82ED1F1019404874
alter table isiku_seadus_intsidendis drop constraint FK82ED1F10F3F2849C
alter table kodakondsus drop constraint FK4E5E1DF6232EA460
alter table kodakondsus drop constraint FK4E5E1DF677DB6E4A
alter table objekt_intsidendis drop constraint FK9198801E7B56F78A
alter table objekt_intsidendis drop constraint FK9198801E715821C
alter table objekt_intsidendis drop constraint FK9198801E8FE01B5
alter table piiririkkuja drop constraint FK8B435D8E715821C
alter table piirivalvur_intsidendis drop constraint FK9F824640D29BC1FE
alter table piirivalvur_intsidendis drop constraint FK9F8246407B56F78A
alter table piirivalvur_intsidendis drop constraint FK9F8246404A72C5A4
alter table seaduse_punkt drop constraint FKFA0ADF255FBCC5B6
alter table seaduse_punkt drop constraint FKFA0ADF25B0E38D40
alter table seaduse_punkt drop constraint FKFA0ADF251508A054
alter table vahtkond_intsidendis drop constraint FKB141C0787B56F78A
drop table intsidendi_liik if exists
drop table intsident if exists
drop table isik_intsidendis if exists
drop table isiku_seadus_intsidendis if exists
drop table kodakondsus if exists
drop table objekt if exists
drop table objekt_intsidendis if exists
drop table piiriloik if exists
drop table piiririkkuja if exists
drop table piirivalvur if exists
drop table piirivalvur_intsidendis if exists
drop table riik if exists
drop table seadus if exists
drop table seaduse_punkt if exists
drop table vahtkond if exists
drop table vahtkond_intsidendis if exists
create table intsidendi_liik (id bigint generated by default as identity (start with 1), avaja varchar(32) not null, avatud timestamp not null, kommentaar varchar(255) not null, kood varchar(20) not null, muudetud timestamp not null, muutja varchar(32) not null, nimetus varchar(60) not null, suletud timestamp not null, sulgeja varchar(32) not null, version integer, primary key (id))
create table intsident (id bigint generated by default as identity (start with 1), gps_latituud double, gps_longituud double, avaja varchar(32) not null, avatud timestamp not null, kirjeldus varchar(255) not null, kommentaar varchar(255), kood varchar(20) not null, muudetud timestamp not null, muutja varchar(32) not null, nimetus varchar(100) not null, suletud timestamp not null, sulgeja varchar(32) not null, toimumise_algus timestamp not null, toimumise_lopp timestamp not null, version integer, intsidendi_liik bigint, piiriloik bigint, primary key (id))
create table isik_intsidendis (id bigint generated by default as identity (start with 1), alates timestamp not null, avaja varchar(32) not null, avatud timestamp not null, kirjeldus varchar(255) not null, kommentaar varchar(255), kuni timestamp not null, muudetud timestamp not null, muutja varchar(32) not null, suletud timestamp not null, sulgeja varchar(32) not null, version integer, intsident bigint, piiririkkuja bigint, primary key (id))
create table isiku_seadus_intsidendis (id bigint generated by default as identity (start with 1), alates timestamp not null, avaja varchar(32) not null, avatud timestamp not null, kirjeldus varchar(255) not null, kommentaar varchar(255), kuni timestamp not null, muudetud timestamp not null, muutja varchar(32) not null, suletud timestamp not null, sulgeja varchar(32) not null, version integer, isik_intsidendis bigint, seaduse_punkt bigint, primary key (id))
create table kodakondsus (id bigint generated by default as identity (start with 1), alates timestamp not null, avaja varchar(32) not null, avatud timestamp not null, isikukood varchar(20) not null, kommentaar varchar(255), kuni timestamp not null, muudetud timestamp not null, muutja varchar(32) not null, suletud timestamp not null, sulgeja varchar(32) not null, version integer, piiririkkuja bigint, riik bigint, primary key (id))
create table objekt (id bigint generated by default as identity (start with 1), avaja varchar(32) not null, avatud timestamp not null, kommentaar varchar(255), muudetud timestamp not null, muutja varchar(32) not null, nimetus varchar(100) not null, suletud timestamp not null, sulgeja varchar(32) not null, version integer, primary key (id))
create table objekt_intsidendis (id bigint generated by default as identity (start with 1), alates timestamp not null, avaja varchar(32) not null, avatud timestamp not null, kirjeldus varchar(255) not null, kommentaar varchar(255), kuni timestamp not null, muudetud timestamp not null, muutja varchar(32) not null, suletud timestamp not null, sulgeja varchar(32) not null, version integer, intsident bigint, objekt bigint, primary key (id))
create table piiriloik (id bigint generated by default as identity (start with 1), gps_koordinaadid varchar(255) not null, avaja varchar(32) not null, avatud timestamp not null, kommentaar varchar(255) not null, kood varchar(20) not null, muudetud timestamp not null, muutja varchar(32) not null, nimetus varchar(60) not null, suletud timestamp not null, sulgeja varchar(32) not null, version integer, primary key (id))
create table piiririkkuja (id bigint generated by default as identity (start with 1), avaja varchar(32) not null, avatud timestamp not null, eesnimi varchar(25) not null, isikukood varchar(20) not null, kommentaar varchar(255), muudetud timestamp not null, muutja varchar(32) not null, perek_nimi varchar(35) not null, sugu varchar(1) not null, suletud timestamp not null, sulgeja varchar(32) not null, synniaeg timestamp, version integer, objekt bigint, primary key (id))
create table piirivalvur (id bigint generated by default as identity (start with 1), avaja varchar(32) not null, avatud timestamp not null, eesnimed varchar(25) not null, isikukood varchar(20) not null, kommentaar varchar(255) not null, muudetud timestamp not null, muutja varchar(32) not null, perekonnanimi varchar(35) not null, soduri_kood varchar(20) not null, sugu varchar(1) not null, suletud timestamp not null, sulgeja varchar(32) not null, version integer, primary key (id))
create table piirivalvur_intsidendis (id bigint generated by default as identity (start with 1), alates timestamp not null, avaja varchar(32) not null, avatud timestamp not null, kirjeldus varchar(255) not null, kommentaar varchar(255), kuni timestamp not null, muudetud timestamp not null, muutja varchar(32) not null, suletud timestamp not null, sulgeja varchar(32) not null, version integer, intsident bigint, piirivalvur bigint, vahtkond_intsidendis bigint not null, primary key (id))
create table riik (id bigint generated by default as identity (start with 1), ansi_kood varchar(20) not null, iso_kood varchar(20) not null, avaja varchar(32) not null, avatud timestamp not null, kommentaar varchar(255), muudetud timestamp not null, muutja varchar(32) not null, suletud timestamp not null, sulgeja varchar(32) not null, version integer, primary key (id))
create table seadus (id bigint generated by default as identity (start with 1), avaja varchar(32) not null, avatud timestamp not null, kehtiv_alates varchar(20) not null, kehtiv_kuni varchar(20) not null, kommentaar varchar(20) not null, kood varchar(20) not null, muudetud timestamp not null, muutja varchar(32) not null, nimetus varchar(20) not null, suletud timestamp not null, sulgeja varchar(32) not null, version integer, primary key (id))
create table seaduse_punkt (id bigint generated by default as identity (start with 1), avaja varchar(32) not null, avatud timestamp not null, kehtiv_alates varchar(20) not null, kehtiv_kuni varchar(20) not null, kommentaar varchar(20) not null, muudetud timestamp not null, muutja varchar(32) not null, pais varchar(20) not null, paragrahv varchar(20) not null, suletud timestamp not null, sulgeja varchar(32) not null, tekst varchar(20) not null, version integer, seadus bigint not null, ylemus_seaduse_punkt bigint, primary key (id))
create table vahtkond (id bigint generated by default as identity (start with 1), alates timestamp not null, avaja varchar(32) not null, avatud timestamp not null, kommentaar varchar(255) not null, kood varchar(20) not null, kuni timestamp not null, muudetud timestamp not null, muutja varchar(32) not null, nimetus varchar(60) not null, suletud timestamp not null, sulgeja varchar(32) not null, version integer, primary key (id))
create table vahtkond_intsidendis (id bigint generated by default as identity (start with 1), alates timestamp not null, avaja varchar(32) not null, avatud timestamp not null, kirjeldus varchar(255) not null, kommentaar varchar(255), kuni timestamp not null, muudetud timestamp not null, muutja varchar(32) not null, suletud timestamp not null, sulgeja varchar(32) not null, version integer, intsident bigint, primary key (id))
alter table intsident add constraint FK35599A0CF91E0FCA foreign key (piiriloik) references piiriloik
alter table intsident add constraint FK35599A0C67E0A6F4 foreign key (intsidendi_liik) references intsidendi_liik
alter table isik_intsidendis add constraint FK57679C337B56F78A foreign key (intsident) references intsident
alter table isik_intsidendis add constraint FK57679C3377DB6E4A foreign key (piiririkkuja) references piiririkkuja
alter table isiku_seadus_intsidendis add constraint FK82ED1F1019404874 foreign key (isik_intsidendis) references isik_intsidendis
alter table isiku_seadus_intsidendis add constraint FK82ED1F10F3F2849C foreign key (seaduse_punkt) references seaduse_punkt
alter table kodakondsus add constraint FK4E5E1DF6232EA460 foreign key (riik) references riik
alter table kodakondsus add constraint FK4E5E1DF677DB6E4A foreign key (piiririkkuja) references piiririkkuja
alter table objekt_intsidendis add constraint FK9198801E7B56F78A foreign key (intsident) references intsident
alter table objekt_intsidendis add constraint FK9198801E715821C foreign key (objekt) references objekt
alter table objekt_intsidendis add constraint FK9198801E8FE01B5 foreign key (objekt) references intsident
alter table piiririkkuja add constraint FK8B435D8E715821C foreign key (objekt) references objekt
alter table piirivalvur_intsidendis add constraint FK9F824640D29BC1FE foreign key (vahtkond_intsidendis) references vahtkond_intsidendis
alter table piirivalvur_intsidendis add constraint FK9F8246407B56F78A foreign key (intsident) references intsident
alter table piirivalvur_intsidendis add constraint FK9F8246404A72C5A4 foreign key (piirivalvur) references piirivalvur
alter table seaduse_punkt add constraint FKFA0ADF255FBCC5B6 foreign key (ylemus_seaduse_punkt) references seaduse_punkt
alter table seaduse_punkt add constraint FKFA0ADF25B0E38D40 foreign key (ylemus_seaduse_punkt) references seadus
alter table seaduse_punkt add constraint FKFA0ADF251508A054 foreign key (seadus) references seadus
alter table vahtkond_intsidendis add constraint FKB141C0787B56F78A foreign key (intsident) references intsident
